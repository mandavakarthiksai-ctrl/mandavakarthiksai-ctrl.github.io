<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Actor Simulator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background:#111;
  color:white;
  font-family:Arial, sans-serif;
  padding:20px;
}
button {
  padding:8px 12px;
  margin:5px;
  cursor:pointer;
}
.box {
  border:1px solid #444;
  padding:10px;
  margin:10px 0;
}
</style>
</head>

<body>

<h1>üé≠ Actor Career Simulator</h1>
<p>If you see this, the game is working.</p>

<div class="box">
  üí∞ Money: <span id="money">‚Çπ40,000</span><br>
  ‚≠ê Popularity: <span id="pop">20</span><br>
  üìÖ Day: <span id="day">1</span>
</div>

<div class="box">
  <h3>üé• Movie Offers</h3>
  <div id="offers"></div>
</div>

<div class="box">
  <h3>üé¨ Ongoing Movies</h3>
  <div id="ongoing">None</div>
</div>

<button onclick="nextDay()">+1 Day</button>

<script>
// ---- GAME STATE (NO DOM DEPENDENCY) ----
let day = 1;
let money = 40000;
let popularity = 20;

let offers = [
  { title:"Film A", days:120, talk:30, budget:30000000 },
  { title:"Film B", days:100, talk:70, budget:50000000 }
];

let ongoing = [];

// ---- RENDER (SAFE) ----
function render() {
  document.getElementById("money").innerText = "‚Çπ" + money.toLocaleString();
  document.getElementById("pop").innerText = popularity;
  document.getElementById("day").innerText = day;

  let offersHTML = "";
  for (let i = 0; i < offers.length; i++) {
    offersHTML += `
      <div>
        ${offers[i].title} |
        Budget ‚Çπ${offers[i].budget.toLocaleString()}
        <button onclick="acceptMovie(${i})">Accept</button>
      </div>
    `;
  }
  document.getElementById("offers").innerHTML = offersHTML || "No offers";

  let ongoingHTML = "";
  for (let m of ongoing) {
    ongoingHTML += `<div>${m.title} ‚Äì ${m.days} days left</div>`;
  }
  document.getElementById("ongoing").innerHTML = ongoingHTML || "None";
}

// ---- ACTIONS ----
function acceptMovie(i) {
  if (ongoing.length >= 2) {
    alert("You can only do 2 movies at a time");
    return;
  }
  ongoing.push(offers[i]);
  offers.splice(i,1);
  render();
}

function nextDay() {
  day++;
  for (let m of ongoing) {
    m.days--;
    if (m.days === 0) {
      let gross = m.budget * (m.talk / 50);
      money += Math.floor(gross * 0.3);
      popularity += m.talk >= 50 ? 5 : -5;
      alert(m.title + " released!");
    }
  }
  ongoing = ongoing.filter(m => m.days > 0);
  render();
}

// ---- START ----
render();
</script>

</body>
</html>
