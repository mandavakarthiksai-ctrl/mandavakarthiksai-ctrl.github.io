<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rising Star: India</title>
<style>
  body { font-family: Arial, sans-serif; background: #f2f2f2; }
  #container { display: flex; justify-content: space-around; margin: 20px; }
  #stats, #projects { background: white; padding: 20px; border-radius: 10px; box-shadow: 2px 2px 10px rgba(0,0,0,0.2); }
  #stats h2, #projects h2 { text-align: center; }
  .button { padding: 10px 15px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; white-space: pre-line; }
  .project-btn { background-color: #4CAF50; color: white; }
  .action-btn { background-color: #2196F3; color: white; }
  #notifications { margin-top: 20px; background: #fff; padding: 10px; border-radius: 5px; box-shadow: 1px 1px 5px rgba(0,0,0,0.1); height: 250px; overflow-y: auto; }
</style>
</head>
<body>
<h1 style="text-align:center;">Rising Star: India</h1>
<div id="container">
  <div id="stats">
    <h2>Actor Stats</h2>
    <p id="statsText"></p>
    <button class="action-btn" onclick="trainActing()">Train Acting (+Skill, -10k)</button>
    <button class="action-btn" onclick="prCampaign()">PR Campaign (+Popularity, -15k)</button>
    <button class="action-btn" onclick="viewCareer()">View Career Overview</button>
  </div>
  <div id="projects">
    <h2>Project Offers</h2>
    <div id="projectButtons"></div>
  </div>
</div>
<div id="notifications"></div>
<script>
// Actor and rivals
let player = {
    name: prompt('Enter your actor name:'),
    region: prompt('Choose starting region: Bollywood/Tollywood/Kollywood/Mollywood/Sandalwood'),
    popularity: 30,
    skill: 40,
    versatility: 20,
    starPower: 10,
    money: 40000
};
let rivals = [{name:'Raj', region: player.region}, {name:'Anaya', region: player.region}];
let actorMovies = [];

// Movie name and story generation
const adjectives = ["Rising", "Shadow", "Golden", "Silent", "Burning", "Mystic", "Last", "Hidden", "Furious"];
const nouns = ["Star", "Journey", "Dream", "Flame", "Destiny", "Heart", "Empire", "Saga", "Rebellion"];
const suffixes = ["Returns", "Forever", "Rising", "Awakens", "Chronicles", "Unleashed", "Legacy", "Rise"];
const storyTemplates = [
    "A gripping tale of love and betrayal in modern India.",
    "An action-packed journey of a hero against all odds.",
    "A heartwarming story of family, friendship, and courage.",
    "A suspenseful mystery that will keep audiences on edge.",
    "An inspiring tale of ambition and dreams coming true.",
    "A thrilling adventure across India’s hidden landscapes.",
    "A dramatic story of rivalry, ambition, and redemption.",
    "A romantic saga with unexpected twists and turns."
];

function generateMovieTitle(){
    let adj = adjectives[Math.floor(Math.random()*adjectives.length)];
    let noun = nouns[Math.floor(Math.random()*nouns.length)];
    let useSuffix = Math.random() < 0.5;
    let title = adj + " " + noun;
    if(useSuffix){
        let suffix = suffixes[Math.floor(Math.random()*suffixes.length)];
        title += " " + suffix;
    }
    return title;
}
function generateStoryOverview(){
    return storyTemplates[Math.floor(Math.random()*storyTemplates.length)];
}

// Projects generation
function generateProjects(){
    let projects = [];
    for(let i=0;i<Math.floor(Math.random()*3)+1;i++){
        let title = generateMovieTitle();
        let projTypeRoll = Math.random();
        let projType = projTypeRoll < 0.3 ? 'Big-budget blockbuster' : projTypeRoll < 0.7 ? 'Mid-budget drama' : 'Indie/OTT project';
        let directorRep = Math.floor(Math.random()*60)+40;
        let producerBudget = Math.floor(Math.random()*50000000)+50000000; // 5 Cr to 10 Cr
        let storyOverview = generateStoryOverview();
        projects.push({title, type: projType, directorRep, producerBudget, storyOverview});
    }
    return projects;
}

// Money formatting
function formatMoney(amount){
    if(amount >= 10000000){
        return (amount/10000000).toFixed(2) + " Cr";
    } else if(amount >= 100000){
        return (amount/100000).toFixed(2) + " Lakh";
    } else {
        return "₹" + amount.toLocaleString('en-IN');
    }
}
function formatBudget(amount){
    return (amount/10000000).toFixed(2) + " Cr";
}

// Stats and notifications
let notifications = document.getElementById('notifications');
function addNotification(text){
    notifications.innerHTML += `<p>${text.replace(/\n/g,'<br>')}</p>`;
    notifications.scrollTop = notifications.scrollHeight;
}
function updateStats(){
    document.getElementById('statsText').innerHTML = `Name: ${player.name}<br>Region: ${player.region}<br>Popularity: ${player.popularity}<br>Skill: ${player.skill}<br>Versatility: ${player.versatility}<br>Star Power: ${player.starPower}<br>Money: ${formatMoney(player.money)}`;
}

// Hit chance
function calculateHitChance(actor, project, rivals){
    let rivalImpact = rivals.reduce((acc,r)=> acc + Math.floor(Math.random()*15)+5, 0);
    let typeMultiplier = project.type==='Big-budget blockbuster'?1.2:project.type==='Mid-budget drama'?1.0:0.8;
    let score = (actor.popularity*0.4 + actor.skill*0.3 + actor.versatility*0.2 + actor.starPower*0.1) + (project.directorRep*0.2 + project.producerBudget/10000000*0.2) - rivalImpact;
    score *= typeMultiplier;
    return Math.min(Math.max(score/200,0.1),0.9);
}

// Simulate daily collections with outcome
function simulateDailyCollections(actor, project){
    let hitChance = calculateHitChance(actor, project, rivals);
    let isHit = Math.random() < hitChance;
    let days = 7 + Math.floor(Math.random()*3);
    let dailyRevenue = [];
    let totalRevenue = 0;

    for(let day=1; day<=days; day++){
        let base = isHit ? Math.random()*5000000+5000000 : Math.random()*2000000+1000000;
        let fluctuation = 1 + (Math.random()*0.2-0.1);
        let daily = Math.floor(base*fluctuation);
        dailyRevenue.push(daily);
        totalRevenue += daily;
    }

    // Determine outcome based on producer budget
    let recovery = totalRevenue / project.producerBudget;
    let category;
    if(recovery < 0.79) category = "FLOP";
    else if(recovery < 1) category = "AVERAGE";
    else if(recovery < 1.5) category = "HIT";
    else if(recovery < 2) category = "SUPERHIT";
    else category = "BLOCKBUSTER";

    // Update popularity
    if(category === "HIT" || category === "SUPERHIT" || category === "BLOCKBUSTER"){
        let increase = 5 + Math.floor(Math.random()*6);
        actor.popularity += increase;
        addNotification(`${project.title} was a ${category}! Popularity +${increase}`);
    } else if(category === "FLOP"){
        let decrease = 5 + Math.floor(Math.random()*5);
        actor.popularity -= decrease;
        if(actor.popularity < 0) actor.popularity = 0;
        addNotification(`${project.title} was a FLOP! Popularity -${decrease}`);
    } else {
        addNotification(`${project.title} performed AVERAGE. Popularity unchanged.`);
    }

    actor.money += totalRevenue;

    // Save movie for career overview
    actorMovies.push({
        title: project.title,
        story: project.storyOverview,
        directorRep: project.directorRep,
        producerBudget: project.producerBudget,
        totalRevenue: totalRevenue,
        outcome: category
    });

    // Display daily revenue
    let message = `Movie: ${project.title} Daily Collections:\n${project.storyOverview}\n`;
    dailyRevenue.forEach((rev, idx)=>{
        message += `Day ${idx+1}: ${formatMoney(rev)}\n`;
    });
    message += `Total Box Office: ${formatMoney(totalRevenue)}\nOutcome: ${category}`;

    addNotification(message);
    updateStats();
    newMonth();
}

// Accept project
function acceptProject(proj){
    simulateDailyCollections(player, proj);
}

// Actions
function trainActing(){
    if(player.money>=10000){player.skill+=5;player.money-=10000; addNotification('Trained acting: +5 Skill, -10k');}
    else addNotification('Not enough money to train');
    updateStats();
}
function prCampaign(){
    if(player.money>=15000){player.popularity+=8;player.money-=15000; addNotification('PR campaign: +8 Popularity, -15k');}
    else addNotification('Not enough money for PR');
    updateStats();
}

// Career Overview
function viewCareer(){
    if(actorMovies.length === 0){addNotification("You haven't done any movies yet!"); return;}
    let biggestHit = actorMovies.filter(m => ["HIT","SUPERHIT","BLOCKBUSTER"].includes(m.outcome)).sort((a,b)=>b.totalRevenue-a.totalRevenue)[0];
    let biggestFlop = actorMovies.filter(m => m.outcome==="FLOP").sort((a,b)=>a.totalRevenue-b.totalRevenue)[0];
    let highestGrosser = actorMovies.sort((a,b)=>b.totalRevenue-a.totalRevenue)[0];

    let message = `Career Overview:\nTotal Movies: ${actorMovies.length}\n`;
    if(biggestHit) message += `Biggest Hit: ${biggestHit.title} (${formatMoney(biggestHit.totalRevenue)})\n`;
    if(biggestFlop) message += `Biggest Flop: ${biggestFlop.title} (${formatMoney(biggestFlop.totalRevenue)})\n`;
    message += `Highest Grosser: ${highestGrosser.title} (${formatMoney(highestGrosser.totalRevenue)})\n\nMovies in Chronological Order:\n`;

    actorMovies.forEach((m,idx)=>{
        message += `${idx+1}. ${m.title} | Budget: ${formatBudget(m.producerBudget)} | Collection: ${formatMoney(m.totalRevenue)} | Outcome: ${m.outcome}\n`;
    });

    addNotification(message);
}

// Display projects
let projectButtons = [];
function newMonth(){
    let projectDiv = document.getElementById('projectButtons');
    projectDiv.innerHTML='';
    let projects = generateProjects();
    projects.forEach((p,i)=>{
        let btn = document.createElement('button');
        btn.className='button project-btn';
        btn.innerText = `${p.title}\nDirector Rep: ${p.directorRep}, Producer Budget: ${formatBudget(p.producerBudget)}\nStory: ${p.storyOverview}`;
        btn.onclick=()=>acceptProject(p);
        projectDiv.appendChild(btn);
        projectButtons.push(btn);
    });
}

updateStats();
newMonth();
</script>
</body>
</html>

