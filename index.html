<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rising Star: India Simulation</title>
<style>
  body { font-family: Arial, sans-serif; background: #f2f2f2; margin:0; padding:0;}
  #homeScreen {
      position:fixed; top:0; left:0; width:100%; height:100%;
      background:linear-gradient(to bottom, #ffecd2, #fcb69f);
      display:flex; flex-direction:column; justify-content:center; align-items:center;
      z-index:1000;
  }
  #homeScreen h1 { font-size:3em; color:#333; text-shadow:2px 2px #fff; margin-bottom: 20px;}
  #homeScreen p { font-size:1.2em; color:#555; text-align:center; max-width:600px; margin-bottom:30px;}
  #startButton { padding:15px 30px; font-size:1.2em; background-color:#FF6F61; color:white; border:none; border-radius:10px; cursor:pointer; box-shadow: 2px 2px 10px rgba(0,0,0,0.2);}
  #container { display:flex; justify-content: space-around; margin:20px;}
  #stats, #projects { background:white; padding:20px; border-radius:10px; box-shadow: 2px 2px 10px rgba(0,0,0,0.2); flex:1; margin:0 10px;}
  #stats h2, #projects h2 { text-align:center;}
  .button { padding: 10px 15px; margin: 5px; border: none; border-radius:5px; cursor:pointer; white-space: pre-line;}
  .project-btn { background-color:#4CAF50; color:white;}
  .action-btn { background-color:#2196F3; color:white;}
  #notifications { margin:20px auto; background:#fff; padding:10px; border-radius:5px; box-shadow:1px 1px 5px rgba(0,0,0,0.1); height:250px; overflow-y:auto; max-width:900px;}
  #skipControls { text-align:center; margin-top:10px; }
  #skipControls input { width:50px; }
</style>
</head>
<body>
<div id="homeScreen">
    <h1>Rising Star: India</h1>
    <p>Step into the shoes of a new actor. Choose projects, build your popularity, and compete with rivals to become the biggest star in India!</p>
    <button id="startButton">Start Your Career</button>
</div>

<div id="container">
  <div id="stats">
    <h2>Actor Stats</h2>
    <p id="statsText"></p>
    <button class="action-btn" onclick="trainActing()">Train Acting (+Skill, -10k)</button>
    <button class="action-btn" onclick="prCampaign()">PR Campaign (+Popularity, -15k)</button>
    <button class="action-btn" onclick="viewCareer()">View Career Overview</button>
    <div id="skipControls">
        <button onclick="advanceDays(1)">Skip 1 Day</button>
        <input id="skipInput" type="number" placeholder="Days">
        <button onclick="advanceDays(Number(document.getElementById('skipInput').value))">Skip X Days</button>
    </div>
  </div>
  <div id="projects">
    <h2>Project Offers</h2>
    <div id="projectButtons"></div>
  </div>
</div>

<div id="notifications"></div>

<script>
let currentDay = 1;
let player = {
    name: prompt('Enter your actor name:'),
    region: prompt('Choose starting region: Bollywood/Tollywood/Kollywood/Mollywood/Sandalwood'),
    popularity:30, skill:40, versatility:20, starPower:10, money:40000,
    inProduction:[], movies:[]
};
let rivalActors = [
    {name:'Raj', popularity:30, skill:40, versatility:20, starPower:10, money:40000, inProduction:[], movies:[]},
    {name:'Anaya', popularity:35, skill:45, versatility:25, starPower:15, money:40000, inProduction:[], movies:[]}
];
let actorMovies = [];

const adjectives = ["Rising","Shadow","Golden","Silent","Burning","Mystic","Last","Hidden","Furious"];
const nouns = ["Star","Journey","Dream","Flame","Destiny","Heart","Empire","Saga","Rebellion"];
const suffixes = ["Returns","Forever","Rising","Awakens","Chronicles","Unleashed","Legacy","Rise"];
const storyTemplates = [
"A gripping tale of love and betrayal in modern India.",
"An action-packed journey of a hero against all odds.",
"A heartwarming story of family, friendship, and courage.",
"A suspenseful mystery that will keep audiences on edge.",
"An inspiring tale of ambition and dreams coming true.",
"A thrilling adventure across India’s hidden landscapes.",
"A dramatic story of rivalry, ambition, and redemption.",
"A romantic saga with unexpected twists and turns."
];

function generateMovieTitle(){ 
    let adj = adjectives[Math.floor(Math.random()*adjectives.length)];
    let noun = nouns[Math.floor(Math.random()*nouns.length)];
    let useSuffix = Math.random()<0.5;
    let title = adj + " " + noun;
    if(useSuffix){ let suffix = suffixes[Math.floor(Math.random()*suffixes.length)]; title+=" "+suffix;}
    return title;
}
function generateStoryOverview(){ return storyTemplates[Math.floor(Math.random()*storyTemplates.length)]; }

function generateProjects(){
    let projects = [];
    let hits = actorMovies.filter(m=>["HIT","SUPERHIT","BLOCKBUSTER"].includes(m.outcome)).length;
    let flops = actorMovies.filter(m=>m.outcome==="FLOP").length;
    let baseBudget = 50000000 + hits*10000000 - flops*5000000;
    if(baseBudget<30000000) baseBudget=30000000;

    for(let i=0;i<Math.floor(Math.random()*3)+1;i++){
        let title = generateMovieTitle();
        let projTypeRoll=Math.random();
        let projType = projTypeRoll<0.3?'Big-budget blockbuster':projTypeRoll<0.7?'Mid-budget drama':'Indie/OTT project';
        let directorRep = Math.floor(Math.random()*60)+40;
        let producerBudget = baseBudget + Math.floor(Math.random()*20000000);
        let storyOverview = generateStoryOverview();
        // Random filming duration 90-120 days + 20 days promotion
        let filmingDays = 90 + Math.floor(Math.random()*31);
        let startDay = currentDay;
        projects.push({title,type:projType,directorRep,producerBudget,storyOverview,hype:50, filmingDays, promotionDays:20, startDay});
    }
    return projects;
}

function formatMoney(amount){ 
    if(amount>=10000000){return(amount/10000000).toFixed(2)+" Cr";}
    else if(amount>=100000){return(amount/100000).toFixed(2)+" Lakh";}
    else{return"₹"+amount.toLocaleString('en-IN');}
}
function formatBudget(amount){ return(amount/10000000).toFixed(2)+" Cr"; }

let notifications = document.getElementById('notifications');
function addNotification(text){ notifications.innerHTML+=`<p>${text.replace(/\n/g,'<br>')}</p>`; notifications.scrollTop=notifications.scrollHeight; }

function updateStats(){ 
    document.getElementById('statsText').innerHTML=`Name: ${player.name}<br>Region: ${player.region}<br>Popularity: ${player.popularity}<br>Skill: ${player.skill}<br>Versatility: ${player.versatility}<br>Star Power: ${player.starPower}<br>Money: ${formatMoney(player.money)}<br>Day: ${currentDay}<br>Movies in Production: ${player.inProduction.map(m=>m.title).join(', ')}`;
}

function calculateHitChance(actor, project){
    let rivalImpact = rivalActors.reduce((acc,r)=>acc+Math.floor(Math.random()*15)+5,0);
    let typeMultiplier = project.type==='Big-budget blockbuster'?1.2:project.type==='Mid-budget drama'?1.0:0.8;
    let score = (actor.popularity*0.4 + actor.skill*0.3 + actor.versatility*0.2 + actor.starPower*0.1) + (project.directorRep*0.2 + project.producerBudget/10000000*0.2) - rivalImpact;
    score *= typeMultiplier;
    return Math.min(Math.max(score/200,0.1),0.9);
}

function simulateDailyCollections(actor,movie){
    let hitChance = calculateHitChance(actor,movie);
    let isHit = Math.random() < hitChance;
    let days = 7 + Math.floor(Math.random()*3);
    let dailyRevenue = [];
    let totalRevenue = 0;
    for(let day=1; day<=days; day++){
        let base;
        if(day===1){
            base = isHit?Math.random()*5000000+5000000:Math.random()*2000000+1000000;
            let day1Multiplier = 1 + (movie.hype/100)*0.5;
            base = Math.floor(base*day1Multiplier);
        }else{
            base = isHit?Math.random()*5000000+5000000:Math.random()*2000000+1000000;
        }
        let fluctuation = 1 + (Math.random()*0.2-0.1);
        let budgetMultiplier = 0.8 + (movie.producerBudget/10000000)*0.05;
        let popularityMultiplier = 1 + (actor.popularity/1000);
        let daily = Math.floor(base*fluctuation*budgetMultiplier*popularityMultiplier);
        dailyRevenue.push(daily);
        totalRevenue += daily;
    }

    let recovery = totalRevenue/movie.producerBudget;
    let category;
    if(recovery<0.79) category="FLOP";
    else if(recovery<1) category="AVERAGE";
    else if(recovery<1.5) category="HIT";
    else if(recovery<2) category="SUPERHIT";
    else category="BLOCKBUSTER";

    if(["HIT","SUPERHIT","BLOCKBUSTER"].includes(category)){
        let increase = 5 + Math.floor(Math.random()*6);
        actor.popularity += increase;
        addNotification(`${movie.title} was a ${category}! Popularity +${increase}`);
    } else if(category=="FLOP"){
        let decrease = 5 + Math.floor(Math.random()*5);
        actor.popularity -= decrease;
        if(actor.popularity<0) actor.popularity=0;
        addNotification(`${movie.title} was a FLOP! Popularity -${decrease}`);
    } else addNotification(`${movie.title} performed AVERAGE. Popularity unchanged.`);

    let actorShare = Math.floor(totalRevenue*0.3);
    actor.money += actorShare;
    actorMovies.push({title:movie.title,story:movie.storyOverview,directorRep:movie.directorRep,producerBudget:movie.producerBudget,totalRevenue,totalRevenue,actorShare,outcome:category,startDay:movie.startDay});

    let message = `Movie: ${movie.title} Daily Collections:\n${movie.storyOverview}\n`;
    dailyRevenue.forEach((rev,idx)=>{ message += `Day ${idx+1}: ${formatMoney(rev)}\n`; });
    message += `Total Box Office: ${formatMoney(totalRevenue)}\nActor Earnings (30%): ${formatMoney(actorShare)}\nOutcome: ${category}`;
    addNotification(message);
}

function acceptProject(proj){
    if(player.inProduction.length>=2){ addNotification("You are already filming 2 movies."); return; }
    proj.endFilmingDay = currentDay + proj.filmingDays;
    proj.endPromotionDay = proj.endFilmingDay + proj.promotionDays;
    proj.isFilmingDone = false;
    proj.isReleased = false;
    player.inProduction.push(proj);
    addNotification(`Started filming ${proj.title}. Duration: ${proj.filmingDays} days + ${proj.promotionDays} promotion days.`);

    // Remove clicked button if exists
    if(event && event.target) event.target.remove();

    // Add new project offer if under 4
    addNewProjectOffer();

    updateStats();
}

function trainActing(){ if(player.money>=10000){player.skill+=5;player.money-=10000; addNotification('Trained acting: +5 Skill, -10k');} else addNotification('Not enough money to train'); updateStats();}
function prCampaign(){ if(player.money>=15000){player.popularity+=8;player.money-=15000; addNotification('PR campaign: +8 Popularity, -15k');} else addNotification('Not enough money for PR'); updateStats();}

function viewCareer(){ 
    if(actorMovies.length===0){ addNotification("You haven't done any movies yet!"); return;}
    let biggestHit = actorMovies.filter(m=>["HIT","SUPERHIT","BLOCKBUSTER"].includes(m.outcome)).sort((a,b)=>b.totalRevenue-a.totalRevenue)[0];
    let biggestFlop = actorMovies.filter(m=>m.outcome=="FLOP").sort((a,b)=>a.totalRevenue-b.totalRevenue)[0];
    let highestGrosser = actorMovies.sort((a,b)=>b.totalRevenue-a.totalRevenue)[0];
    actorMovies.sort((a,b)=>a.startDay-b.startDay);
    let message=`Career Overview:\nTotal Movies: ${actorMovies.length}\n`;
    if(biggestHit) message+=`Biggest Hit: ${biggestHit.title} (${formatMoney(biggestHit.totalRevenue)})\n`;
    if(biggestFlop) message+=`Biggest Flop: ${biggestFlop.title} (${formatMoney(biggestFlop.totalRevenue)})\n`;
    message+=`Highest Grosser: ${highestGrosser.title} (${formatMoney(highestGrosser.totalRevenue)})\n\nMovies in Chronological Order:\n`;
    actorMovies.forEach((m,idx)=>{ message+=`${idx+1}. ${m.title} | Budget: ${formatBudget(m.producerBudget)} | Collection: ${formatMoney(m.totalRevenue)} | Actor Earnings: ${formatMoney(m.actorShare)} | Outcome: ${m.outcome}\n`; });
    addNotification(message);
}

function newMonth(){ 
    let projectDiv=document.getElementById('projectButtons'); 
    projectDiv.innerHTML='';
    let projects=generateProjects(); 
    projects.forEach((p,i)=>{
        if(projectDiv.children.length<4){ // max 4 offers
            let btn=document.createElement('button');
            btn.className='button project-btn';
            btn.innerText=`${p.title}\nDirector Rep: ${p.directorRep}, Producer Budget: ${formatBudget(p.producerBudget)}\nStory: ${p.storyOverview}`;
            btn.onclick=()=>acceptProject(p);
            projectDiv.appendChild(btn);
        }
    }); 
}

function addNewProjectOffer(){
    let projectDiv = document.getElementById('projectButtons');
    if(projectDiv.children.length >=4) return;
    let newProj = generateProjects()[0];
    let btn = document.createElement('button');
    btn.className='button project-btn';
    btn.innerText=`${newProj.title}\nDirector Rep: ${newProj.directorRep}, Producer Budget: ${formatBudget(newProj.producerBudget)}\nStory: ${newProj.storyOverview}`;
    btn.onclick = ()=>acceptProject(newProj);
    projectDiv.appendChild(btn);
    addNotification(`New project offer: ${newProj.title}`);
}

function advanceDays(numDays=1){
    for(let i=0;i<numDays;i++){
        currentDay++;
        player.inProduction.forEach((movie, idx)=>{
            if(currentDay >= movie.endFilmingDay && !movie.isFilmingDone){
                movie.isFilmingDone = true;
                addNotification(`${movie.title} finished filming. Promotions start.`);
            }
            if(currentDay >= movie.endPromotionDay && !movie.isReleased){
                movie.isReleased = true;
                addNotification(`${movie.title} is released in theaters!`);
                simulateDailyCollections(player, movie);
                player.inProduction.splice(idx,1);
                addNewProjectOffer();
            }
        });
        // Rivals simulation can be added here
        updateStats();
    }
}

// Home screen start
document.getElementById('startButton').onclick = function(){
    document.getElementById('homeScreen').style.display = 'none';
    updateStats();
    newMonth();
};
</script>
</body>
</html>
